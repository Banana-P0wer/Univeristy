<<- [[8.2.2.7]]
## **Настройка стандартных ACL в Cisco Packet Tracer**

### **Что такое ACL?**
ACL (Access Control List) – это список правил, который позволяет **разрешать или запрещать** сетевой трафик по определённым критериям (IP-адресу источника, порту, протоколу и т.д.). В этом задании используются **стандартные ACL**, которые фильтруют трафик **только по IP-адресу источника**.

### **1. Проверка исходной конфигурации**
Перед настройкой ACL важно убедиться, что сеть работает корректно. Для этого проверяем:
- **IP-адреса и статусы интерфейсов**:
  ```bash
  show ip interface brief
  ```
- **Маршрутизацию** (чтобы убедиться, что пакеты доходят до нужных подсетей):
  ```bash
  show ip route
  ```
- **Связность между узлами (ping)**:
  ```bash
  ping 192.168.20.254  # Веб-сервер
  ping 192.168.30.10  # PC3
  ping 192.168.11.10  # PC2
  ```

Ожидаемый результат: **до настройки ACL все пинги проходят успешно**.

---

### **2. Планирование ACL**
**Задачи:**  
✅ **На R2** запретить сети **192.168.11.0/24** доступ к веб-серверу (**192.168.20.254**), но разрешить весь остальной трафик.  
✅ **На R3** запретить сети **192.168.10.0/24** доступ к сети **192.168.30.0/24 (PC3)**, но разрешить остальной трафик.

---

### **3. Настройка ACL**
#### **ACL на R2 (запрет доступа PC2 к веб-серверу)**
```bash
enable
configure terminal
access-list 1 deny 192.168.11.0 0.0.0.255
access-list 1 permit any
interface GigabitEthernet0/0
ip access-group 1 out
exit
write memory
```

#### **ACL на R3 (запрет доступа PC1 к PC3)**
```bash
enable
configure terminal
access-list 1 deny 192.168.10.0 0.0.0.255
access-list 1 permit any
interface GigabitEthernet0/0
ip access-group 1 out
exit
write memory
```

✅ **Что делают эти команды?**  
- `access-list 1 deny 192.168.XX.0 0.0.0.255` – запрещает трафик от указанной подсети.  
- `access-list 1 permit any` – разрешает весь остальной трафик.  
- `ip access-group 1 out` – применяет ACL на исходящий трафик интерфейса.

---

### **4. Проверка работы ACL**
После настройки ACL нужно проверить, что фильтрация работает правильно.

#### **Проверяем пинги после настройки ACL**
1. **PC2 → Веб-сервер (192.168.20.254)** ❌ **Должен быть запрещён**
   ```bash
   ping 192.168.20.254
   ```
2. **PC1 → PC3 (192.168.30.10)** ❌ **Должен быть запрещён**
   ```bash
   ping 192.168.30.10
   ```
3. **PC1 → PC2 (192.168.11.10)** ✅ **Должен проходить**
   ```bash
   ping 192.168.11.10
   ```
4. **PC3 → Веб-сервер (192.168.20.254)** ✅ **Должен проходить**
   ```bash
   ping 192.168.20.254
   ```

✅ **Дополнительная проверка ACL:**
```bash
show access-lists  # Показывает правила ACL
show ip interface GigabitEthernet0/0  # Показывает, применён ли ACL к интерфейсу
```

---

### **5. Выводы**
- **ACL на R2** запрещает сети **192.168.11.0/24** доступ к **192.168.20.254** (веб-серверу).
- **ACL на R3** запрещает сети **192.168.10.0/24** доступ к **192.168.30.0/24** (PC3).
- Все остальные соединения продолжают работать.
- Проверка `ping` показала, что фильтрация работает корректно.
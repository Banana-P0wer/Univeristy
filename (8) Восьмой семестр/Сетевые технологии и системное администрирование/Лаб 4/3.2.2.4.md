<- [[3.2.1.7]]
## **๐ ะงัะพ ัะฐะบะพะต VLAN ะธ ะทะฐัะตะผ ะพะฝะฐ ะฝัะถะฝะฐ?**  
**VLAN (Virtual Local Area Network)** โ ััะพ ะฒะธัััะฐะปัะฝะฐั ะปะพะบะฐะปัะฝะฐั ัะตัั, ะบะพัะพัะฐั ะฟะพะทะฒะพะปัะตั ัะฐะทะดะตะปะธัั ััััะพะนััะฒะฐ ะฒะฝัััะธ ะพะดะฝะพะน ัะธะทะธัะตัะบะพะน ัะตัะธ ะฝะฐ **ะปะพะณะธัะตัะบะธะต ะณััะฟะฟั**.  

### **ะัะตะธะผััะตััะฒะฐ VLAN:**  
โ **ะะทะพะปััะธั ััะฐัะธะบะฐ** โ ััััะพะนััะฒะฐ ะฒ ัะฐะทะฝัั VLAN ะฝะต ะผะพะณัั ะพะฑัะฐัััั ะฝะฐะฟััะผัั.  
โ **ะะธะฑะบะพััั** โ ััััะพะนััะฒะฐ ะผะพะณัั ะฑััั ะฒ ะพะดะฝะพะน VLAN, ะดะฐะถะต ะตัะปะธ ัะธะทะธัะตัะบะธ ะฝะฐัะพะดัััั ะฒ ัะฐะทะฝัั ะผะตััะฐั.  
โ **ะะตะทะพะฟะฐัะฝะพััั** โ ะฟะพะปัะทะพะฒะฐัะตะปะธ ัะฐะทะฝัั VLAN ะฝะต ะฒะธะดัั ะดััะณ ะดััะณะฐ ะฑะตะท ะผะฐัััััะธะทะฐัะพัะฐ.  
โ **ะกะฝะธะถะตะฝะธะต ะฝะฐะณััะทะบะธ** โ ัะผะตะฝััะฐะตััั ัะธัะพะบะพะฒะตัะฐัะตะปัะฝัะน ััะฐัะธะบ, ะฟะพะฒััะฐะตััั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั.  

### **ะะฐะบ ัะฐะฑะพัะฐัั VLAN?**  
- **VLAN 10** โ Faculty/Staff (ะฟะตััะพะฝะฐะป)  
- **VLAN 20** โ Student (ัััะดะตะฝัั)  
- **VLAN 30** โ Guest (ะณะพััะธ)  

ะะฐะถะดะพะต ััััะพะนััะฒะพ ะฟัะธะฝะฐะดะปะตะถะธั ะบ ะพะดะฝะพะน VLAN ะธ **ะฝะต ะผะพะถะตั ะฒะทะฐะธะผะพะดะตะนััะฒะพะฒะฐัั ั ััััะพะนััะฒะฐะผะธ ะธะท ะดััะณะธั VLAN ะฑะตะท ะผะฐัััััะธะทะฐัะธะธ**.  

---

## **๐ ะงัะพ ัะฐะบะพะต Trunk ะธ ะทะฐัะตะผ ะพะฝ ะฝัะถะตะฝ?**  
**Trunk (ััะฐะฝะบะพะฒัะน ะฟะพัั)** โ ััะพ ัะฟะตัะธะฐะปัะฝัะน ะธะฝัะตััะตะนั ะบะพะผะผััะฐัะพัะฐ, ะบะพัะพััะน **ะฟะตัะตะดะฐัั ััะฐัะธะบ ััะฐะทั ะฝะตัะบะพะปัะบะธั VLAN** ะผะตะถะดั ะบะพะผะผััะฐัะพัะฐะผะธ.  

### **ะะฐัะตะผ ะฝัะถะตะฝ trunk?**  
๐ ะัะปะธ ั ัะตะฑั ะฝะตัะบะพะปัะบะพ VLAN ะธ **ะบะพะผะผััะฐัะพัั ะฟะพะดะบะปััะตะฝั ะดััะณ ะบ ะดััะณั, ะพะฝะธ ะดะพะปะถะฝั ะฟะตัะตะดะฐะฒะฐัั ััะฐัะธะบ ะฒัะตั VLAN**.  
๐ **ะะฑััะฝัะต (access) ะฟะพััั** ะผะพะณัั ัะฐะฑะพัะฐัั **ัะพะปัะบะพ ั ะพะดะฝะพะน VLAN**, ะฐ **trunk** โ ั ะฝะตัะบะพะปัะบะธะผะธ.  
๐ Trunk **ะฟะพะทะฒะพะปัะตั ะฟะตัะตะดะฐะฒะฐัั VLAN-ััะฐัะธะบ ัะตัะตะท ะพะดะธะฝ ะบะฐะฑะตะปั** ะฒะผะตััะพ ะฝะตัะบะพะปัะบะธั.  

### **ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั?**  
- ะะพะณะดะฐ **PC1 (VLAN 10) ัะพัะตั ัะฒัะทะฐัััั ั PC4 (VLAN 10, ะฝะพ ะฝะฐ ะดััะณะพะผ ะบะพะผะผััะฐัะพัะต)**, ะดะฐะฝะฝัะต ะดะพะปะถะฝั ะฟัะพะนัะธ ัะตัะตะท **ััะฐะฝะบะพะฒัะน ะบะฐะฝะฐะป**.  
- **ะัะปะธ trunk ะฝะต ะฝะฐัััะพะตะฝ**, ััััะพะนััะฒะฐ **ะฝะต ัะผะพะณัั ะพะฑัะฐัััั, ะดะฐะถะต ะตัะปะธ ะพะฝะธ ะฒ ะพะดะฝะพะน VLAN**.  

### **ะะฐะบ trunk ะฟะพะฝะธะผะฐะตั, ะบะฐะบะพะน ััะฐัะธะบ ะบ ะบะฐะบะพะน VLAN ะพัะฝะพัะธััั?**  
- Trunk ะธัะฟะพะปัะทัะตั **802.1Q-ัะตะณะธัะพะฒะฐะฝะธะต** โ ัะฟะตัะธะฐะปัะฝัั ะผะตัะบั ะฒ Ethernet-ะบะฐะดัะต, ัะบะฐะทัะฒะฐัััั ะฝะพะผะตั VLAN.  
- **Native VLAN** โ ััะพ VLAN, ะฒ ะบะพัะพััั ะฟะพะฟะฐะดะฐะตั ะฝะตัะฐะทะผะตัะตะฝะฝัะน ััะฐัะธะบ (ะฟะพ ัะผะพะปัะฐะฝะธั ััะพ VLAN 1, ะฝะพ ะฒ ะทะฐะดะฐะฝะธะธ ะฝะฐะดะพ ะธะทะผะตะฝะธัั ะฝะฐ VLAN 99).  

---

## **๐ ะงะฐััั 1. ะัะพะฒะตัะบะฐ ัะตัะตะน VLAN**  

### **๐ธ ะจะฐะณ 1. ะัะพะฑัะฐะทะธัั ะฝะฐัััะพะตะฝะฝัะต ัะตัะธ VLAN**  

**ะงัะพ ะฝัะถะฝะพ ัะดะตะปะฐัั?**  
1. ะัะพะฒะตัะธัั, ััะพ **ะฝะฐ ะบะพะผะผััะฐัะพัะต S1** ะฝะฐัััะพะตะฝะพ **9 VLAN**.  
2. ะะพัะผะพััะตัั, ะบะฐะบะธะต **ะฟะพััั ะพัะฝะพััััั ะบ ะบะฐะบะธะผ VLAN**.  
3. ะฃะฑะตะดะธัััั, ััะพ **ะฝะฐ ะบะพะผะผััะฐัะพัะฐั S2 ะธ S3** ะตััั ัะฐะบะธะต ะถะต VLAN.  

**๐ ะะพะผะฐะฝะดั ะดะปั ะฒัะฟะพะปะฝะตะฝะธั:**  
```bash
show vlan brief
```
**ะงัะพ ะฟะพะบะฐะทัะฒะฐะตั ะบะพะผะฐะฝะดะฐ?**  
- ะกะฟะธัะพะบ ะฒัะตั VLAN.  
- ะะฐะทะฝะฐัะตะฝะฝัะต ะฟะพััั.  
- ะะพ ัะผะพะปัะฐะฝะธั ะฒัะต ะฟะพััั ะฟัะธะฝะฐะดะปะตะถะฐั VLAN 1, ะฝะพ ะดะพะปะถะฝั ะฑััั ัะฐัะฟัะตะดะตะปะตะฝั ะฟะพ ัะฐะฑะปะธัะต ะฐะดัะตัะฐัะธะธ.  

---

### **๐ธ ะจะฐะณ 2. ะัะพะฒะตัะบะฐ ัะฒัะทะธ ะผะตะถะดั ะบะพะผะฟัััะตัะฐะผะธ**  

**ะงัะพ ะฟัะพะฒะตััะตะผ?**  
- PC1 ะธ PC4 **ะฒ ะพะดะฝะพะน VLAN (10)**, ะฝะพ **ะฝะต ะผะพะณัั ะฟะธะฝะณะพะฒะฐัััั**.  
- ะญัะพ ัะฒัะทะฐะฝะพ ั ัะตะผ, ััะพ **ะผะตะถะดั ะบะพะผะผััะฐัะพัะฐะผะธ ะฝะตั trunk-ะฟะพััะพะฒ**, ะธ ััะฐัะธะบ VLAN 10 ะฟัะพััะพ ะฝะต ะฟะตัะตะดะฐัััั.  

**๐ ะะพะผะฐะฝะดั ะฝะฐ ะะ:**  
```bash
ping 172.17.10.24  # PC1 โ PC4
ping 172.17.20.25  # PC2 โ PC5
ping 172.17.30.26  # PC3 โ PC6
```
**ะงัะพ ะพะถะธะดะฐะตะผ?**  
- **ะะธะฝะณ ะะ ะฟัะพัะพะดะธั**, ะฟะพัะพะผั ััะพ ััะฐัะธะบ VLAN ะฝะต ะฟะตัะตะดะฐัััั ะผะตะถะดั ะบะพะผะผััะฐัะพัะฐะผะธ.  
- **ะะตัะตะฝะธะต:** ะะฐัััะพะธัั trunk-ะฟะพััั ะฝะฐ S1, S2, S3.  

---

## **๐ ะงะฐััั 2. ะะฐัััะพะนะบะฐ ััะฐะฝะบะพะฒัั ะบะฐะฝะฐะปะพะฒ**  

### **๐ธ ะจะฐะณ 1. ะะฐัััะพะธัั Trunk ะฝะฐ S1 ะธ ะทะฐะดะฐัั native VLAN 99**  

**๐ ะะพะผะฐะฝะดั ะฝะฐ S1:**  
```bash
conf t
interface GigabitEthernet 0/1
switchport mode trunk
switchport trunk native vlan 99
exit

interface GigabitEthernet 0/2
switchport mode trunk
switchport trunk native vlan 99
exit
```
**ะงัะพ ะดะตะปะฐัั ะบะพะผะฐะฝะดั?**  
โ `switchport mode trunk` โ ะฟะตัะตะฒะพะดะธั ะธะฝัะตััะตะนั ะฒ ัะตะถะธะผ **trunk**.  
โ `switchport trunk native vlan 99` โ ะฝะฐะทะฝะฐัะฐะตั **VLAN 99 ะบะฐะบ native VLAN**.  

**โ๏ธ ะะฐะถะฝะพ:**  
ะะพัะปะต ััะพะน ะบะพะผะฐะฝะดั **ะผะพะถะตั ะฟะพัะฒะปััััั ะพัะธะฑะบะฐ**:
```
CDP-4-NATIVE_VLAN_MISMATCH: Native VLAN mismatch discovered on GigabitEthernet0/1
```
**ะงัะพ ััะพ ะทะฝะฐัะธั?**  
- S1 **ะธัะฟะพะปัะทัะตั VLAN 99 ะบะฐะบ native**, ะฐ S2 ะธ S3 ะฒัั ะตัั ะธัะฟะพะปัะทััั VLAN 1.  
- ะะฐะดะพ **ะฟะพะผะตะฝััั native VLAN ะฝะฐ S2 ะธ S3**.  

---

### **๐ธ ะจะฐะณ 2. ะัะพะฒะตัะบะฐ trunk-ะฟะพััะพะฒ ะฝะฐ S2 ะธ S3**  

**๐ ะะพะผะฐะฝะดั ะฝะฐ S2 ะธ S3:**  
```bash
show interfaces trunk
```
**ะงัะพ ะฟัะพะฒะตััะตะผ?**  
- ะะบะปััะตะฝั ะปะธ trunk-ะฟะพััั?  
- ะะฐะบะธะต VLAN ะฟะตัะตะดะฐัััั ัะตัะตะท ะฝะธั?  
- ะกะพะฒะฟะฐะดะฐัั ะปะธ native VLAN?  

ะัะปะธ **native VLAN ะฝะต ัะพะฒะฟะฐะดะฐะตั** (ะพัะธะฑะบะฐ CDP), ัะพ ะธัะฟัะฐะฒะปัะตะผ ะฝะฐ S2 ะธ S3.

---

### **๐ธ ะจะฐะณ 3. ะฃัััะฐะฝะตะฝะธะต ะพัะธะฑะบะธ native VLAN ะฝะฐ S2 ะธ S3**  

**๐ ะะพะผะฐะฝะดั ะฝะฐ S2 ะธ S3:**  
```bash
conf t
interface GigabitEthernet 0/1
switchport trunk native vlan 99
exit

interface GigabitEthernet 0/2
switchport trunk native vlan 99
exit
```
ะขะตะฟะตัั **native VLAN ัะพะฒะฟะฐะดะฐะตั ะฝะฐ ะฒัะตั ะบะพะผะผััะฐัะพัะฐั** ะธ ะพัะธะฑะบะธ ะธััะตะทะฝัั.  

---

### **๐ธ ะจะฐะณ 4. ะัะพะฒะตัะบะฐ ะฝะฐัััะพะตะบ S2 ะธ S3**  

**๐ ะัะพะฒะตัะบะฐ trunk-ะฟะพััะพะฒ:**  
```bash
show interfaces trunk
```
**๐ ะัะพะฒะตัะบะฐ native VLAN:**  
```bash
show interfaces switchport
```
**๐ ะัะพะฒะตัะบะฐ VLAN ะฝะฐ S2 ะธ S3:**  
```bash
show vlan brief
```
ะขะตะฟะตัั **G0/1 ะธ G0/2 ะฑะพะปััะต ะฝะต ะฟัะธะฝะฐะดะปะตะถะฐั ะบ VLAN 1**.  

---

## **๐ ะคะธะฝะฐะปัะฝะฐั ะฟัะพะฒะตัะบะฐ โ ะะฐะฑะพัะฐะตั ะปะธ ัะตะฟะตัั ะฟะธะฝะณ?**  

```bash
ping 172.17.10.24  # PC1 โ PC4
ping 172.17.20.25  # PC2 โ PC5
ping 172.17.30.26  # PC3 โ PC6
```
โ **ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**  
- **ะะธะฝะณ ะฟัะพัะพะดะธั!** ๐  
- ะขะตะฟะตัั ะบะพะผะผััะฐัะพัั ะฟะตัะตะดะฐัั ััะฐัะธะบ VLAN ะผะตะถะดั ัะพะฑะพะน ัะตัะตะท **trunk**.  
- **ะัะธะฑะบะธ native VLAN ะฑะพะปััะต ะฝะตั**.  

[[5.1.3.6]] ->